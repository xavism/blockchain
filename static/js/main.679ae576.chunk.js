(this["webpackJsonpui-react"]=this["webpackJsonpui-react"]||[]).push([[0],{154:function(e,t,n){},163:function(e,t){},165:function(e,t){},1698:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(51),s=n.n(r),i=(n(154),n(7)),l="CHANGE_DIFFICULTY",o="CHANGE_REWARD",d="UPDATE_BLOCK",u="UPDATE_TX",b="ADD_TRANSACTION",j="MINE",h="SET_MINING",m=function(e,t){return{type:d,payload:{index:e,block:t}}},f=function(e,t,n){return{type:u,payload:{blockIndex:e,txIndex:t,tx:n}}},F=function(e){return{type:h,payload:e}},x=n(52),O=n(6),p=n(81),v=n(16),g=n(17),y=n(53),C=function(){return Math.random().toString(36).substr(2,9)},E=n(25),A=new E.ec("secp256k1"),B=function(){function e(){Object(v.a)(this,e)}return Object(g.a)(e,null,[{key:"createTx",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{id:a||C(),fromAddress:e,toAddress:t,amount:n,signature:""}}},{key:"calculateHash",value:function(e,t,n){return Object(y.SHA256)(e+t+n).toString()}},{key:"signTx",value:function(e,t){if(t.publicKey!==e.fromAddress.publicKey)throw new Error("You cannot sign transactions for other wallets");var n=this.calculateHash(e.fromAddress.publicKey,e.toAddress.publicKey,e.amount),a=A.keyFromPrivate(t.privateKey,"hex"),c=A.sign(n,a);e.signature=c.toDER("hex")}},{key:"isValid",value:function(e){if(null===e.fromAddress)return!0;if(!e.signature||0===e.signature.length)throw new Error("No signature in this transaction");var t=A.keyFromPublic(e.fromAddress.publicKey,"hex"),n=this.calculateHash(e.fromAddress.publicKey,e.toAddress.publicKey,e.amount);return t.verify(n,e.signature)}}]),e}(),N=n(145),w=n.n(N),D=["#F44336","#FFEBEE","#FFCDD2","#EF9A9A","#E57373","#EF5350","#E53935","#D32F2F","#C62828","#B71C1C","#FF8A80","#FF5252","#FF1744","#D50000","#FCE4EC","#F8BBD0","#F48FB1","#F06292","#EC407A","#E91E63","#D81B60","#C2185B","#AD1457","#880E4F","#FF80AB","#FF4081","#F50057","#C51162","#F3E5F5","#E1BEE7","#CE93D8","#BA68C8","#AB47BC","#9C27B0","#8E24AA","#7B1FA2","#6A1B9A","#4A148C","#EA80FC","#E040FB","#D500F9","#AA00FF","#EDE7F6","#D1C4E9","#B39DDB","#9575CD","#7E57C2","#673AB7","#5E35B1","#512DA8","#4527A0","#311B92","#B388FF","#7C4DFF","#651FFF","#6200EA","#E8EAF6","#C5CAE9","#9FA8DA","#7986CB","#5C6BC0","#3F51B5","#3949AB","#303F9F","#283593","#1A237E","#8C9EFF","#536DFE","#3D5AFE","#304FFE","#E3F2FD","#BBDEFB","#90CAF9","#64B5F6","#42A5F5","#2196F3","#1E88E5","#1976D2","#1565C0","#0D47A1","#82B1FF","#448AFF","#2979FF","#2962FF","#E1F5FE","#B3E5FC","#81D4FA","#4FC3F7","#29B6F6","#03A9F4","#039BE5","#0288D1","#0277BD","#01579B","#80D8FF","#40C4FF","#00B0FF","#0091EA","#E0F7FA","#B2EBF2","#80DEEA","#4DD0E1","#26C6DA","#00BCD4","#00ACC1","#0097A7","#00838F","#006064","#84FFFF","#18FFFF","#00E5FF","#00B8D4","#E0F2F1","#B2DFDB","#80CBC4","#4DB6AC","#26A69A","#009688","#00897B","#00796B","#00695C","#004D40","#A7FFEB","#64FFDA","#1DE9B6","#00BFA5","#E8F5E9","#C8E6C9","#A5D6A7","#81C784","#66BB6A","#4CAF50","#43A047","#388E3C","#2E7D32","#1B5E20","#B9F6CA","#69F0AE","#00E676","#00C853","#F1F8E9","#DCEDC8","#C5E1A5","#AED581","#9CCC65","#8BC34A","#7CB342","#689F38","#558B2F","#33691E","#CCFF90","#B2FF59","#76FF03","#64DD17","#F9FBE7","#F0F4C3","#E6EE9C","#DCE775","#D4E157","#CDDC39","#C0CA33","#AFB42B","#9E9D24","#827717","#F4FF81","#EEFF41","#C6FF00","#AEEA00","#FFFDE7","#FFF9C4","#FFF59D","#FFF176","#FFEE58","#FFEB3B","#FDD835","#FBC02D","#F9A825","#F57F17","#FFFF8D","#FFFF00","#FFEA00","#FFD600","#FFF8E1","#FFECB3","#FFE082","#FFD54F","#FFCA28","#FFC107","#FFB300","#FFA000","#FF8F00","#FF6F00","#FFE57F","#FFD740","#FFC400","#FFAB00","#FFF3E0","#FFE0B2","#FFCC80","#FFB74D","#FFA726","#FF9800","#FB8C00","#F57C00","#EF6C00","#E65100","#FFD180","#FFAB40","#FF9100","#FF6D00","#FBE9E7","#FFCCBC","#FFAB91","#FF8A65","#FF7043","#FF5722","#F4511E","#E64A19","#D84315","#BF360C","#FF9E80","#FF6E40","#FF3D00","#DD2C00","#EFEBE9","#D7CCC8","#BCAAA4","#A1887F","#8D6E63","#795548","#6D4C41","#5D4037","#4E342E","#3E2723","#FAFAFA","#F5F5F5","#EEEEEE","#E0E0E0","#BDBDBD","#9E9E9E","#757575","#616161","#424242","#212121","#ECEFF1","#CFD8DC","#B0BEC5","#90A4AE","#78909C","#607D8B","#546E7A","#455A64","#37474F","#263238","#000000"],k=function(){function e(){Object(v.a)(this,e)}return Object(g.a)(e,null,[{key:"isBright",value:function(e){var t=e.substring(1),n=parseInt(t,16);return!(.2126*(n>>16&255)+.7152*(n>>8&255)+.0722*(n>>0&255)<80)}},{key:"getRandomHexadecimalColor",value:function(){return"#".concat(Math.floor(16777215*Math.random()).toString(16))}},{key:"getColorFromColorPalette",value:function(){return D[Math.floor(1e5*Math.random())%D.length]}},{key:"hashCode",value:function(e){for(var t=0,n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);return t}},{key:"intToRGB",value:function(e){var t=(16777215&this.hashCode(e)).toString(16).toUpperCase();return"#"+"00000".substring(0,6-t.length)+t}}]),e}(),T=new E.ec("secp256k1"),K=T.genKeyPair(),S={name:"Satoshi",color:"#ff0066",textColor:"white",publicKey:K.getPublic("hex"),privateKey:K.getPrivate("hex")},H=function(){function e(){Object(v.a)(this,e)}return Object(g.a)(e,null,[{key:"createRandomWallet",value:function(){var e=T.genKeyPair(),t=k.getColorFromColorPalette(),n=e.getPublic("hex"),a=e.getPrivate("hex");return{name:w.a.name.firstName(),color:t,textColor:k.isBright(t)?"black":"white",publicKey:n,privateKey:a}}}]),e}();H.getSatoshi=function(){return S};var I=function(){function e(){Object(v.a)(this,e)}return Object(g.a)(e,null,[{key:"createBlock",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{id:C(),timestamp:e,transactions:t,previousHash:n,nonce:0,hash:this.calculateHash(e,t,n,0)}}},{key:"mineBlock",value:function(e,t){for(var n=e.timestamp,a=e.transactions,c=e.previousHash;e.hash.substring(0,t)!==Array(t).fill(0).join("");)e.nonce++,e.hash=this.calculateHash(n,a,c,e.nonce)}},{key:"createGenesisBlock",value:function(e){return this.createBlock((new Date).toISOString().split("T")[0],[B.createTx(null,H.getSatoshi(),e)],"")}},{key:"calculateHash",value:function(e,t,n,a){return Object(y.SHA256)(e+JSON.stringify(t)+n+a).toString()}},{key:"hasValidTransactions",value:function(e){return e.transactions.every((function(e){return B.isValid(e)}))}},{key:"isValid",value:function(e,t,n){if(!this.hasValidTransactions(e))return!1;if(e.hash!==this.calculateHash(e.timestamp,e.transactions,e.previousHash,e.nonce))return!1;if(0===n)return!0;var a=t[n-1],c=a.timestamp,r=a.transactions,s=a.previousHash,i=a.nonce;return e.previousHash===this.calculateHash(c,r,s,i)&&!!this.isValid(t[n-1],t,n-1)}}]),e}(),R=function(){function e(){Object(v.a)(this,e)}return Object(g.a)(e,null,[{key:"mine",value:function(e,t,n,a,c){var r=B.createTx(null,c,n);t.push(r);var s=I.createBlock((new Date).toISOString().split("T")[0],t,e);return I.mineBlock(s,a),s}},{key:"getLatestBlock",value:function(e){return e[e.length-1]}},{key:"getBalanceOfAddress",value:function(e,t){var n,a=0,c=Object(p.a)(e);try{for(c.s();!(n=c.n()).done;){var r,s=n.value,i=Object(p.a)(s.transactions);try{for(i.s();!(r=i.n()).done;){var l,o,d=r.value;(null===(l=d.fromAddress)||void 0===l?void 0:l.publicKey)===t&&(a-=parseFloat(d.amount)),(null===(o=d.toAddress)||void 0===o?void 0:o.publicKey)===t&&(a+=parseFloat(d.amount))}}catch(u){i.e(u)}finally{i.f()}}}catch(u){c.e(u)}finally{c.f()}return a}},{key:"isValidChain",value:function(e){return e.every((function(t,n){return I.isValid(t,e,n)}))}},{key:"getValidChain",value:function(e){var t=e.findIndex((function(t,n){return!I.isValid(t,e,n)}));return-1===t?e:e.slice(0,t)}}]),e}(),P=n(0),V=function(e){var t=e.wallet,n=e.withAmount,c=void 0!==n&&n,r=Object(i.c)((function(e){return e.blockchain})).chain,s=Object(a.useCallback)((function(){return R.getBalanceOfAddress(R.getValidChain(r),t.publicKey)}),[t,r]);return Object(P.jsx)("div",{className:"cursor-pointer",children:t?Object(P.jsxs)("span",{style:{backgroundColor:t.color,color:t.textColor},className:"rounded-md flex items-center",children:[Object(P.jsx)("div",{className:"px-2",children:t.name}),c?Object(P.jsx)("div",{className:"px-2 text-black bg-white rounded-r-md -m-1",children:s()}):null]}):Object(P.jsx)("span",{className:"py-1 px-2 rounded-md bg-gray-500 text-white",children:"Blockchain"})})},M=n(27),G=n(28),L=function(e){var t=e.valid;return Object(P.jsx)("div",{className:"text-white font-bold",children:t?Object(P.jsxs)("div",{className:"bg-green-500 px-2 rounded",children:[Object(P.jsx)(M.a,{icon:G.c})," VALID"]}):Object(P.jsxs)("div",{className:"bg-red-500 px-2 rounded",children:[Object(P.jsx)(M.a,{icon:G.e})," INVALID"]})})},W=function(e){var t=e.transactions,n=e.blockIndex,a="fromAddress",c="toAddress",r=Object(i.b)(),s=Object(i.c)((function(e){return e.wallets})).wallets,l=function(e){return e.map((function(e){var t=e.publicKey,n=e.name;return Object(P.jsx)("option",{value:t,children:n},t)}))}(s),o=function(e,t,a,c){var i=c.target.value,l=Object(O.a)({},a);l[e]=function(e){return s.find((function(t){return t.publicKey===e}))}(i),r(f(n,t,l))},d=function(e){return k.intToRGB(e.substring(0,10))};return Object(P.jsx)("div",{className:"",children:t.map((function(e,t){var s=e.fromAddress,i=e.toAddress,u=e.signature,b=B.calculateHash(s?s.publicKey:null,i.publicKey,e.amount);return Object(P.jsxs)("div",{className:"flex items-center my-1 md:my-2 flex-wrap px-1 py-1 bg-gray-200 rounded justify-between",children:[s?Object(P.jsx)("select",{name:"from",id:"from",value:s.publicKey,onChange:function(n){return o(a,t,e,n)},children:l}):Object(P.jsx)(V,{wallet:s}),Object(P.jsx)("div",{className:"mx-2 hidden md:block",children:"sends"}),Object(P.jsx)("div",{children:Object(P.jsx)("input",{className:"w-14 md:w-28",type:"number",min:"0",value:e.amount,onChange:function(a){return function(e,t,a){var c=a.target.value,s=Object(O.a)(Object(O.a)({},t),{},{amount:parseFloat(c)});r(f(n,e,s))}(t,e,a)}})}),Object(P.jsx)("div",{className:"mx-2 hidden md:block",children:"to"}),Object(P.jsx)("select",{name:"from",id:"from",value:i.publicKey,onChange:function(n){return o(c,t,e,n)},children:l}),Object(P.jsxs)("div",{className:"whitespace-nowrap overflow-hidden overflow-ellipsis",children:[Object(P.jsx)("span",{className:"mx-2 font-bold",children:"Tx Hash: "}),Object(P.jsxs)("span",{className:"rounded px-2 text-white",style:{backgroundColor:d(b.substring(0,10))},children:[b.substring(0,10),"..."]})]}),""!==u?Object(P.jsxs)("div",{className:"whitespace-nowrap overflow-hidden overflow-ellipsis",children:[Object(P.jsx)("span",{className:"mx-2 font-bold",children:"Sig: "}),Object(P.jsxs)("span",{className:"rounded px-2 text-white",style:{backgroundColor:d(u.substring(0,10))},children:[u.substring(0,10),"..."]})]}):null,Object(P.jsx)("div",{className:"flex-1 flex justify-end",children:Object(P.jsx)(L,{valid:B.isValid(e)})})]},e.id)}))})},_=function(e){var t=e.index,n=e.block,c=Object(i.c)((function(e){return e.blockchain})).chain,r=n.hash,s=n.nonce,l=n.previousHash,o=n.timestamp,d=n.transactions,u=Object(i.b)(),b=function(e,a){var c=a.target.value,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=Object(O.a)(Object(O.a)({},n),{},Object(x.a)({},e,r?parseFloat(c):c));u(m(t,Object(O.a)({},s)))},j=Object(a.useCallback)((function(){return I.isValid(n,c,t)}),[n,c,t]),h=Object(a.useCallback)((function(){return I.calculateHash(o,d,l,s)}),[o,d,l,s]),f=Object(a.useCallback)((function(){return k.intToRGB(h())}),[h]);return Object(P.jsxs)("div",{className:"flex",children:[Object(P.jsx)("div",{style:{borderColor:f()},className:"border-l-8 w-10 rounded shadow px-2 py-4 mr-4 hidden md:block ".concat(I.isValid(n,c,t)?"bg-gray-200":"bg-red-500 text-white"),children:Object(P.jsx)("p",{className:"font-bold ml-5 uppercase transform origin-top-left rotate-90 absolute",children:0===t?"Genesis Block":"Block ".concat(t)})}),Object(P.jsx)("div",{className:"flex-1",children:Object(P.jsxs)("div",{style:{borderColor:f()},className:"rounded bg-gray-100 shadow p-2 border-t-8 md:border-0",children:[Object(P.jsx)("div",{className:"uppercase font-bold mb-2 text-lg md:hidden",children:0===t?"Genesis Block":"Block ".concat(t)}),Object(P.jsxs)("div",{className:"flex mb-2 rounded justify-between",children:[Object(P.jsxs)("p",{className:"max-w-xs whitespace-nowrap overflow-hidden overflow-ellipsis",children:[Object(P.jsx)("span",{className:"mr-2 font-bold",children:"Current Hash: "}),Object(P.jsxs)("span",{className:"rounded px-2 text-white",style:{backgroundColor:f()},children:[h().substring(0,10),"..."]})]}),Object(P.jsx)("div",{children:Object(P.jsx)(L,{valid:j()})})]}),Object(P.jsxs)("div",{className:"flex mb-2",children:[Object(P.jsx)("label",{className:"mr-2 font-bold",htmlFor:"nonce",children:"Hash"}),Object(P.jsx)("input",{className:"flex-1 pl-2",value:r,onChange:function(e){return b("hash",e)},type:"text"})]}),l?Object(P.jsxs)("div",{className:"flex mb-2 items-center",children:[Object(P.jsx)("label",{className:"font-bold",htmlFor:"previousHash",children:"Previous hash"}),Object(P.jsx)("div",{style:{backgroundColor:k.intToRGB(l)},className:"mx-2 w-5 h-5 rounded"}),Object(P.jsx)("input",{className:"flex-1 pl-2",value:l,onChange:function(e){return b("previousHash",e)},type:"text"})]}):null,Object(P.jsxs)("div",{className:"flex mb-2",children:[Object(P.jsx)("label",{className:"mr-2 font-bold",htmlFor:"nonce",children:"Nonce"}),Object(P.jsx)("input",{className:"flex-1 pl-2",value:s,onChange:function(e){return b("nonce",e,!0)},type:"number",min:"0"})]}),Object(P.jsxs)("div",{className:"flex mb-2",children:[Object(P.jsx)("label",{className:"mr-2 font-bold",htmlFor:"hash",children:"Timestamp"}),Object(P.jsx)("input",{className:"flex-1 pl-2",value:o,onChange:function(e){return b("timestamp",e)},type:"date"})]}),d.length?Object(P.jsxs)("div",{children:[Object(P.jsx)("p",{className:"font-bold",children:"Transactions:"}),Object(P.jsx)(W,{transactions:d,blockIndex:t})]}):null]})})]})},U=n(82),J=n.n(U),Y=n(146),X=n(20),q=Object(a.createContext)(),z=function(e){var t=e.transactions,n=Object(a.useCallback)((function(){return t.map((function(e){var t=e.fromAddress,n=e.toAddress;return Object(P.jsxs)("div",{className:"flex items-center my-2",children:[Object(P.jsx)(V,{wallet:t}),Object(P.jsxs)("div",{className:"mx-2",children:["sends ",e.amount," to "]}),Object(P.jsx)(V,{wallet:n})]},e.id)}))}),[t]);return Object(P.jsx)("div",{className:"px-2 py-2",children:n()})},Q=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.blockchain})),n=t.pendingTransactions,c=t.chain,r=t.miningReward,s=t.difficulty,l=t.mining,o=Object(i.c)((function(e){return e.wallets})).wallets,d=Object(a.useState)(!1),u=Object(X.a)(d,2),b=u[0],h=u[1],m=Object(a.useState)(""),f=Object(X.a)(m,2),x=f[0],O=f[1],p=Object(a.useContext)(q),v=function(e){e.stopPropagation()},g=function(t){e(F(!0));var a=o.find((function(e){return e.publicKey===x}));p.postMessage({pendingTx:n,miner:a,miningReward:r,difficulty:s,latestBlockHash:R.getLatestBlock(c).hash}),p.onmessage=function(){var t=Object(Y.a)(J.a.mark((function t(n){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("reached data",n.data),e((a=n.data,{type:j,payload:a})),e(F(!1));case 3:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}(),O(""),v(t)},y=function(e){var t=e.target.value;return O(t)},C=function(){return Object(P.jsx)("span",{className:"flex justify-center items-center w-5 h-5 rounded-full text-white bg-red-500",children:n.length})};return Object(P.jsxs)("div",{className:"rounded bg-gray-100 shadow",children:[n.length?Object(P.jsxs)("div",{className:"px-2 py-2 md:flex items-center cursor-pointer hover:bg-gray-200 justify-between rounded-t",onClick:function(){return h(!b)},children:[Object(P.jsxs)("h2",{className:"font-bold flex-1 flex mb-4 md:mb-0",children:[Object(P.jsx)("p",{className:"font-bold text-center w-5",children:b?Object(P.jsx)(M.a,{icon:G.b}):Object(P.jsx)(M.a,{icon:G.a})}),Object(P.jsx)("p",{children:"Pending Transactions: "}),Object(P.jsx)("p",{className:"md:hidden flex-1 flex justify-end",children:C()})]}),Object(P.jsx)("div",{className:"flex",children:l?Object(P.jsxs)("div",{className:"mr-4",children:["Mining ",Object(P.jsx)(M.a,{spin:!0,icon:G.d})]}):Object(P.jsxs)("div",{children:[Object(P.jsx)("label",{className:"mr-2",htmlFor:"miner",children:"Miner:"}),Object(P.jsxs)("select",{className:"w-48 py-1",value:x,onChange:y,onClick:v,name:"miner",id:"miner",children:[Object(P.jsx)("option",{value:"",children:"Select an addr"}),o.map((function(e){var t=e.publicKey,n=e.name;return Object(P.jsx)("option",{value:t,children:n},t)}))]}),Object(P.jsx)("button",{disabled:""===x,onClick:g,className:"py-1 px-2 mx-2 rounded text-white bg-gray-500 hover:bg-gray-600 disavled:hover:bg-gray-500 disabled:opacity-30 disabled:cursor-not-allowed",children:"Mine \u26cf\ufe0f"})]})}),Object(P.jsx)("div",{className:"hidden md:block",children:C()})]}):Object(P.jsx)("h2",{className:"font-bold px-2 py-3",children:"No Pending Transactions"}),function(){if(b)return Object(P.jsx)(z,{transactions:n})}()]})},Z=function(){var e=Object(i.c)((function(e){return e.blockchain})),t=e.difficulty,n=e.miningReward,c=e.chain,r=Object(i.b)(),s=Object(a.useCallback)((function(){return c.map((function(e,t){return Object(P.jsx)("div",{className:"mb-4",children:Object(P.jsx)(_,{block:e,index:t})},e.id)}))}),[c]),d=Object(a.useCallback)((function(){return R.isValidChain(c)}),[c]);return Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{className:"flex items-center mb-4",children:[Object(P.jsx)("h1",{className:"font-bold text-2xl mr-4",children:"Blockchain"}),Object(P.jsx)(L,{valid:d()})]}),Object(P.jsxs)("div",{className:"flex justify-between mb-4",children:[Object(P.jsxs)("div",{children:[Object(P.jsx)("label",{className:"mr-4",htmlFor:"difficulty",children:"Difficulty: "}),Object(P.jsx)("input",{className:"border border-grey-100 pl-2 w-20",min:"0",value:t,type:"number",onChange:function(e){var t=e.target.value;r(function(e){return{type:l,payload:e}}(parseInt(""===t?0:t)))}}),t>5?Object(P.jsx)("p",{className:"text-sm text-red-500",children:"A difficulty higher than 5 will take a long time to mine"}):null]}),Object(P.jsxs)("div",{children:[Object(P.jsx)("label",{className:"mr-4",htmlFor:"difficulty",children:"Mining Reward: "}),Object(P.jsx)("input",{className:"border border-grey-100 pl-2",value:n,type:"number",onChange:function(e){var t,n=e.target.value;r((t=parseFloat(""===n?0:n),{type:o,payload:t}))},min:"1"})]})]}),Object(P.jsx)("div",{className:"mb-4",children:Object(P.jsx)(Q,{})}),Object(P.jsx)("div",{children:s()})]})},$="ADD_WALLET",ee=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.wallets})).wallets,n=Object(a.useCallback)((function(){return t.length?t.map((function(e){return c(e)})):Object(P.jsx)("p",{className:"py-1",children:"There are no wallets yet"})}),[t]),c=function(e){return Object(P.jsx)("div",{className:"m-1 cursor-pointer flex items-center",children:Object(P.jsx)(V,{wallet:e,withAmount:!0})},e.publicKey)};return Object(P.jsxs)("div",{className:"mb-4",children:[Object(P.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[Object(P.jsx)("h2",{className:"font-bold text-xl flex-1",children:"Wallets"}),Object(P.jsx)("button",{onClick:function(){e({type:$})},className:"py-1 px-4 rounded bg-gray-500 text-white focus:outline-none hover:bg-gray-600",children:"Create"})]}),Object(P.jsx)("div",{className:"p-4 rounded bg-gray-100 w-full",children:Object(P.jsx)("div",{className:"flex flex-wrap",children:n()})})]})},te=n(18),ne=function(){var e=Object(i.b)(),t=Object(a.useState)(""),n=Object(X.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),l=Object(X.a)(s,2),o=l[0],d=l[1],u=Object(a.useState)(0),j=Object(X.a)(u,2),h=j[0],m=j[1],f=Object(a.useState)(""),F=Object(X.a)(f,2),x=F[0],O=F[1],p=Object(i.c)((function(e){return e.wallets})).wallets,v=Object(i.c)((function(e){return e.blockchain})),g=v.chain,y=v.pendingTransactions,C=v.mining,E=function(e,t){e(t.target.value),O("")},A=function(){r(""),d(""),m(0)},N=function(e,t,n){return n<=0?"Amount should be higher than 0":R.getBalanceOfAddress([].concat(Object(te.a)(g),[{transactions:y}]),c)<n?"Insuficient funds of ".concat(e.name):e.publicKey===t.publicKey?"From and To cannot be the same wallet":void 0},w=function(){return p.map((function(e){var t=e.publicKey,n=e.name;return Object(P.jsx)("option",{value:t,children:n},t)}))};return Object(P.jsxs)("div",{className:"mb-4",children:[Object(P.jsx)("h2",{className:"font-bold text-xl mb-4",children:"Transactions"}),Object(P.jsxs)("div",{className:"p-4 rounded bg-gray-100 w-full shadow",children:[Object(P.jsxs)("div",{className:"flex mb-2",children:[Object(P.jsx)("label",{className:"font-bold mr-2",htmlFor:"from",children:"From Address: "}),Object(P.jsxs)("select",{className:"flex-1",name:"from",id:"from",value:c,onChange:function(e){return E(r,e)},children:[Object(P.jsx)("option",{children:"Select an addr"}),w()]})]}),Object(P.jsxs)("div",{className:"flex mb-2",children:[Object(P.jsx)("label",{className:"font-bold mr-2",htmlFor:"to",children:"To Address: "}),Object(P.jsxs)("select",{className:"flex-1",name:"to",id:"to",value:o,onChange:function(e){return E(d,e)},children:[Object(P.jsx)("option",{children:"Select an addr"}),w()]})]}),Object(P.jsxs)("div",{className:"flex",children:[Object(P.jsx)("label",{className:"font-bold mr-2",htmlFor:"from",children:"Amount: "}),Object(P.jsx)("input",{className:"flex-1",value:h,onChange:function(e){return E(m,e)},type:"number",step:"10",min:"0"})]}),Object(P.jsx)("div",{className:"h-8 flex items-center text-red-400",children:x}),Object(P.jsx)("button",{disabled:!h||""===c||""===o||C,onClick:function(){var t=p.find((function(e){return e.publicKey===c})),n=p.find((function(e){return e.publicKey===o})),a=parseFloat(h),r=N(t,n,a);if(r)O(r),console.error(r);else{var s=B.createTx(t,n,parseFloat(h));B.signTx(s,t),e(function(e){return{type:b,payload:e}}(s)),A()}},className:"w-full py-1 px-4 rounded bg-gray-500 text-white focus:outline-none hover:bg-gray-600 disabled:bg-gray-200 disabled:cursor-not-allowed",children:C?"Mining...":"Create Tx"})]})]})};var ae=function(){var e=Object(i.c)((function(e){return e.blockchain})).chain;return Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{className:"h-10 ".concat(R.isValidChain(e)?"bg-green-500":"bg-red-500")}),Object(P.jsx)("div",{className:"max-w-7xl pt-5 mx-auto px-2",children:Object(P.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[Object(P.jsx)("section",{className:"md:col-span-2 xl:col-span-3",children:Object(P.jsx)(Z,{})}),Object(P.jsxs)("div",{className:"md:grid md:grid-cols-2 lg:grid-cols-1 gap-4 right-col",children:[Object(P.jsx)("section",{children:Object(P.jsx)(ee,{})}),Object(P.jsx)("section",{children:Object(P.jsx)(ne,{})})]})]})})]})},ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1699)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))},re=n(26),se=n(147),ie={chain:[I.createGenesisBlock(100)],difficulty:2,pendingTransactions:[],miningReward:100,mining:!1},le=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case l:return Object(O.a)(Object(O.a)({},t),{},{difficulty:n.payload});case o:return Object(O.a)(Object(O.a)({},t),{},{miningReward:n.payload});case d:return(e=Object(te.a)(t.chain)).splice(n.payload.index,1,n.payload.block),Object(O.a)(Object(O.a)({},t),{},{chain:e});case b:var a=n.payload;if(!a.fromAddress.publicKey||!a.toAddress.privateKey)throw new Error("Transaction must include from and to address");if(!B.isValid(a))throw new Error("Cannot add invalid transaction to chain");return Object(O.a)(Object(O.a)({},t),{},{pendingTransactions:[].concat(Object(te.a)(t.pendingTransactions),[a])});case j:return Object(O.a)(Object(O.a)({},t),{},{pendingTransactions:[],chain:[].concat(Object(te.a)(t.chain),[n.payload])});case h:return Object(O.a)(Object(O.a)({},t),{},{mining:n.payload});case u:e=Object(te.a)(t.chain);var c=Object(O.a)({},e[n.payload.blockIndex]);c.transactions.splice(n.payload.txIndex,1,n.payload.tx);var r=Object(O.a)({},c);return e.splice(n.payload.blockIndex,1,r),Object(O.a)(Object(O.a)({},t),{},{chain:e});default:return t}},oe={wallets:[H.getSatoshi(),H.createRandomWallet(),H.createRandomWallet()]},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:var n=H.createRandomWallet();return Object(O.a)(Object(O.a)({},e),{},{wallets:[].concat(Object(te.a)(e.wallets),[n])});default:return e}},ue=n(148),be=n(149),je=n.n(be),he=Object(re.combineReducers)({blockchain:le,wallets:de}),me=Object(re.createStore)(he,Object(se.composeWithDevTools)(Object(re.applyMiddleware)(je.a,ue.a))),fe=new Worker("/blockchain/mine.worker.js");s.a.render(Object(P.jsx)(c.a.StrictMode,{children:Object(P.jsx)(q.Provider,{value:fe,children:Object(P.jsx)(i.a,{store:me,children:Object(P.jsx)(ae,{})})})}),document.getElementById("root")),ce()},175:function(e,t){},177:function(e,t){},203:function(e,t){},204:function(e,t){},209:function(e,t){},211:function(e,t){},218:function(e,t){},237:function(e,t){}},[[1698,1,2]]]);
//# sourceMappingURL=main.679ae576.chunk.js.map